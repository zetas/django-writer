/*!
 * Writerr.co v1.2
 * Django Webapp to help students and instructors with research papers.
 * 
 * Last Modified: 05-19-2014
 * 
 * Created By: David Della Vecchia <ddv@qubitlogic.net>
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],a):a(b.jQuery)}(function(a,b){function c(b,c){this.element=a(b),this.wrapperElement=a(),this.toggleElement=a(),this.init(c)}var d="plugin_hideShowPassword",e=["show","innerToggle"],f=32,g=13,h=function(){var a=document.body,b=document.createElement("input"),c=!0;a||(a=document.createElement("body")),b=a.appendChild(b);try{b.setAttribute("type","text")}catch(d){c=!1}return a.removeChild(b),c}(),i={show:"infer",innerToggle:!1,enable:h,className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"==typeof Modernizr?!1:Modernizr.touch,attachToEvent:"click",attachToTouchEvent:"touchstart mousedown",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false"}}}}};c.prototype={init:function(b){this.update(b,i)&&(this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),"string"==typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,a.proxy(function(){this.toggleElement.show()},this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(a,b){return this.options=this.prepareOptions(a,b),this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]),this.options.enable},toggle:function(a){return a=a||"toggle",this.update({show:a})},prepareOptions:function(b,c){var d,e=[];if(c=c||this.options,b=a.extend(!0,{},c,b),b.enable&&("toggle"===b.show?b.show=this.isType("hidden",b.states):"infer"===b.show&&(b.show=this.isType("shown",b.states)),"infer"===b.toggle.position&&(b.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!a.isArray(b.toggle.attachToKeyCodes))){if(b.toggle.attachToKeyCodes===!0)switch(d=a(b.toggle.element),d.prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(d.filter("[href]").length){e.push(f);break}default:e.push(f,g)}b.toggle.attachToKeyCodes=e}return b},updateElement:function(){return!this.options.enable||this.isType()?!1:(this.element.prop(a.extend({},this.options.props,this.state().props)).addClass([this.options.className,this.state().className].join(" ")).removeClass(this.otherState().className),this.updateToggle(),!0)},isType:function(a,c){return c=c||this.options.states,a=a||this.state(b,b,c).props.type,c[a]&&(a=c[a].props.type),this.element.prop("type")===a},state:function(a,c,d){return d=d||this.options.states,a===b&&(a=this.options.show),"boolean"==typeof a&&(a=a?"shown":"hidden"),c&&(a="shown"===a?"hidden":"shown"),d[a]},otherState:function(a){return this.state(a,!0)},wrapElement:function(b){var c,d=b.enforceWidth;return this.wrapperElement.length||(c=this.element.outerWidth(),a.each(b.inheritStyles,a.proxy(function(a,c){b.styles[c]=this.element.css(c)},this)),this.element.css(b.innerElementStyles).wrap(a(b.element).addClass(b.className).css(b.styles)),this.wrapperElement=this.element.parent(),d===!0&&(d=this.wrapperElement.outerWidth()===c?!1:c),d!==!1&&this.wrapperElement.css("width",d)),this.wrapperElement},initToggle:function(b){return this.toggleElement.length||(this.toggleElement=a(b.element).attr(b.attr).addClass(b.className).css(b.styles).appendTo(this.wrapperElement),this.updateToggle(),this.positionToggle(b.position,b.verticalAlign,b.offset),b.touchSupport?(this.toggleElement.css(b.touchStyles),this.element.on(b.attachToTouchEvent,a.proxy(this.toggleTouchEvent,this))):this.toggleElement.on(b.attachToEvent,a.proxy(this.toggleEvent,this)),b.attachToKeyCodes.length&&this.toggleElement.on(b.attachToKeyEvent,a.proxy(this.toggleKeyEvent,this))),this.toggleElement},positionToggle:function(a,b,c){var d={};switch(d[a]=c,b){case"top":case"bottom":d[b]=c;break;case"middle":d.top="50%",d.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(d)},updateToggle:function(a,b){var c,d;return this.toggleElement.length&&(c="padding-"+this.options.toggle.position,a=a||this.state().toggle,b=b||this.otherState().toggle,this.toggleElement.attr(a.attr).addClass(a.className).removeClass(b.className).html(a.content),d=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(c)!==d&&this.element.css(c,d)),this.toggleElement},toggleEvent:function(a){a.preventDefault(),this.toggle()},toggleKeyEvent:function(b){a.each(this.options.toggle.attachToKeyCodes,a.proxy(function(a,c){return b.which===c?(console.log("key event"),this.toggleEvent(b),!1):void 0},this))},toggleTouchEvent:function(a){var b,c,d,e=this.toggleElement.offset().left;e&&(b=a.pageX||a.originalEvent.pageX,"left"===this.options.toggle.position?(e+=this.toggleElement.outerWidth(),c=b,d=e):(c=e,d=b),d>=c&&this.toggleEvent(a))}},a.fn.hideShowPassword=function(){var b={};return a.each(arguments,function(c,d){var f={};if("object"==typeof d)f=d;else{if(!e[c])return!1;f[e[c]]=d}a.extend(!0,b,f)}),this.each(function(){var e=a(this),f=e.data(d);f?f.update(b):e.data(d,new c(this,b))})},a.each({show:!0,hide:!1,toggle:"toggle"},function(b,c){a.fn[b+"Password"]=function(a,b){return this.hideShowPassword(c,a,b)}})},this);