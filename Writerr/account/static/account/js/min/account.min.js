/*!
 * Writerr.co v1.2
 * Django Webapp to help students and instructors with research papers.
 * 
 * Last Modified: 05-19-2014
 * 
 * Created By: David Della Vecchia <ddv@qubitlogic.net>
 */
(function(){var a;a=function(a){var b;return b=$("#loading"),"open"===a?(b.attr("title","Please Wait"),b.dialog({duration:"null",easing:"null",modal:!0,width:380})):"close"===a?b.dialog("close"):void 0},$(document).ready(function(){return $("#send_invites_form").submit(function(b){var c,d,e;return b.preventDefault(),c=$("#error_invites"),d=$("#invites_sent"),e=d.find("tbody"),$.ajax("/account/send_invite/",{type:"POST",data:$(this).serialize(),success:function(a){var b,c,f,g;if(e.html(""),"invalid_form"===a.error)return e.append($("<tr class='danger'><td colspan='3'>Invalid Recipients</td></tr>"));if("no_licenses_available"===a.error)return e.append($("<tr class='danger'><td colspan='3'>You have no licenses available.</td></tr>"));c=0,g=[];for(b in a)"invalid_email"!==a[b].error?(a[b].already_licensed===!0?e.append($("<tr class='info'><td>"+b+"</td><td><span class='glyphicon glyphicon-ok'></span></td><td>Pre-existing license, skipping</td></tr>")):(e.append(a[b].exists===!1?a[b].already_sent===!0?$("<tr class='info'><td>"+b+"</td><td><span class='glyphicon glyphicon-remove'></span></td><td>Previously sent license, resending the same code</td></tr>"):$("<tr class='success'><td>"+b+"</td><td><span class='glyphicon glyphicon-remove'></span></td><td>License code sent</td></tr>"):$("<tr class='success'><td>"+b+"</td><td><span class='glyphicon glyphicon-ok'></span></td><td>License assigned</td></tr>")),c++),d.removeClass("hidden"),c>0?(f=$("#license_count").text(),f>0?c>=f?($("#additional_license_div").addClass("hidden"),g.push($("#send_invites_form").addClass("hidden"))):g.push($("#license_count").text(f-c)):g.push(void 0)):g.push(void 0)):e.append($("<tr class='danger'><td>"+b+"</td><td><span class='glyphicon glyphicon-remove'></span></td><td>Invalid email address, skipping</td></tr>"));return g},error:function(a){return c.html(a.statusText)},beforeSend:function(){return a("open")},complete:function(){return a("close")}})})})}).call(this);