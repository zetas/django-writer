/*!
 * Writerr.co v1.2
 * Django Webapp to help students and instructors with research papers.
 * 
 * Last Modified: 05-29-2014
 * 
 * Created By: David Della Vecchia <ddv@qubitlogic.net>
 */
!function(a){function b(a){var b=["li","p","h1","h2","h3","h4","h5","h6","dd"];return b.forEach(function(b){a=a.replace("</"+b+">",".")}),a=a.replace(/<[^>]+>/g,"").replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/^\s+/,"").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,".").replace(/[ ]*([\.])/,". ").replace(/\s+/," ").replace(/\s+$/,"")}function c(a){return new d(a)}var d=function(a){this.text=a?b(a):this.text};d.prototype.fleschKincaidReadingEase=function(a){return a=a?b(a):this.text,Math.round(10*(206.835-1.015*this.averageWordsPerSentence(a)-84.6*this.averageSyllablesPerWord(a)))/10},d.prototype.fleschKincaidGradeLevel=function(a){return a=a?b(a):this.text,Math.round(10*(.39*this.averageWordsPerSentence(a)+11.8*this.averageSyllablesPerWord(a)-15.59))/10},d.prototype.gunningFogScore=function(a){return a=a?b(a):this.text,Math.round(.4*(this.averageWordsPerSentence(a)+this.percentageWordsWithThreeSyllables(a,!1))*10)/10},d.prototype.colemanLiauIndex=function(a){return a=a?b(a):this.text,Math.round(10*(5.89*(this.letterCount(a)/this.wordCount(a))-.3*(this.sentenceCount(a)/this.wordCount(a))-15.8))/10},d.prototype.smogIndex=function(a){return a=a?b(a):this.text,Math.round(1.043*Math.sqrt(this.wordsWithThreeSyllables(a)*(30/this.sentenceCount(a))+3.1291)*10)/10},d.prototype.automatedReadabilityIndex=function(a){return a=a?b(a):this.text,Math.round(10*(4.71*(this.letterCount(a)/this.wordCount(a))+.5*(this.wordCount(a)/this.sentenceCount(a))-21.43))/10},d.prototype.textLength=function(a){return a=a?b(a):this.text,a.length},d.prototype.letterCount=function(a){return a=a?b(a):this.text,a=a.replace(/[^a-z]+/gi,""),a.length},d.prototype.sentenceCount=function(a){return a=a?b(a):this.text,a.replace(/[^\.!?]/g,"").length||1},d.prototype.wordCount=function(a){return a=a?b(a):this.text,1+a.replace(/[^ ]/g,"").length},d.prototype.averageWordsPerSentence=function(a){return a=a?b(a):this.text,this.wordCount(a)/this.sentenceCount(a)},d.prototype.averageSyllablesPerWord=function(a){a=a?b(a):this.text;var c=0,d=this.wordCount(a),e=this;return a.split(/\s+/).forEach(function(a){c+=e.syllableCount(a)}),(c||1)/(d||1)},d.prototype.wordsWithThreeSyllables=function(a,c){a=a?b(a):this.text;var d=0,e=this;return c=c===!1?!1:!0,a.split(/\s+/).forEach(function(a){(!a.match(/^[A-Z]/)||c)&&e.syllableCount(a)>2&&d++}),d},d.prototype.percentageWordsWithThreeSyllables=function(a,c){return a=a?b(a):this.text,this.wordsWithThreeSyllables(a,c)/this.wordCount(a)*100},d.prototype.syllableCount=function(a){var b=0,c=0,d=0;a=a.toLowerCase().replace(/[^a-z]/g,"");var e={simile:3,forever:3,shoreline:2};if(e[a])return e[a];var f=[/cial/,/tia/,/cius/,/cious/,/giu/,/ion/,/iou/,/sia$/,/[^aeiuoyt]{2,}ed$/,/.ely$/,/[cg]h?e[rsd]?$/,/rved?$/,/[aeiouy][dt]es?$/,/[aeiouy][^aeiouydt]e[rsd]?$/,/^[dr]e[aeiou][^aeiou]+$/,/[aeiouy]rse$/],g=[/ia/,/riet/,/dien/,/iu/,/io/,/ii/,/[aeiouym]bl$/,/[aeiou]{3}/,/^mc/,/ism$/,/([^aeiouy])\1l$/,/[^l]lien/,/^coa[dglx]./,/[^gq]ua[^auieo]/,/dnt$/,/uity$/,/ie(r|st)$/],h=[/^un/,/^fore/,/ly$/,/less$/,/ful$/,/ers?$/,/ings?$/];return h.forEach(function(b){a.match(b)&&(a=a.replace(b,""),c++)}),d=a.split(/[^aeiouy]+/gi).filter(function(a){return!!a.replace(/\s+/gi,"").length}).length,b=d+c,f.forEach(function(c){a.match(c)&&b--}),g.forEach(function(c){a.match(c)&&b++}),b||1},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("textstatistics",[],function(){return c}):a.textstatistics=c}(this);